
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>How Well You Remember Me Quiz</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/echarts@5.4.3/dist/echarts.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600;700&family=Inter:wght@300;400;500&family=MedievalSharp&display=swap" rel="stylesheet">
    <style>
        /* Updated cool background */
        body {
            /* Cool, dark, purple/blue background gradient */
            background: linear-gradient(135deg, #0f0c29 0%, #302b63 50%, #24243e 100%);
            font-family: 'Inter', sans-serif;
            min-height: 100vh;
        }
        
        .glow-text {
            /* Light Blue Glow */
            text-shadow: 0 0 15px rgba(173, 216, 230, 0.5), 0 0 30px rgba(173, 216, 230, 0.3);
            color: #ffffff;
        }
        
        .quiz-card {
            background: rgba(10, 10, 10, 0.85);
            backdrop-filter: blur(20px);
            border: 2px solid rgba(173, 216, 230, 0.4);
            box-shadow: 0 0 50px rgba(173, 216, 230, 0.3);
        }
        
        .answer-option {
            background: rgba(30, 30, 50, 0.5);
            border: 1px solid rgba(173, 216, 230, 0.3);
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .answer-option:not(.answered):hover {
            background: rgba(50, 50, 80, 0.7);
            border-color: rgba(173, 216, 230, 0.6);
            transform: translateY(-2px);
        }

        /* Styles for when the answer has been checked (selected, but not yet reviewed) */
        .answer-option.answered {
            cursor: default; /* Disable clicking after selecting */
            opacity: 0.9;
        }
        
        .answer-option.selected {
            background: rgba(173, 216, 230, 0.15);
            border-color: rgba(173, 216, 230, 0.8);
            box-shadow: 0 0 15px rgba(173, 216, 230, 0.4);
        }
        
        /* Final Results Breakdown Styling */
        .answer-option.correct-final, .correct-final {
            background: rgba(34, 197, 94, 0.25) !important;
            border-color: rgba(34, 197, 94, 0.8) !important;
            box-shadow: 0 0 20px rgba(34, 197, 94, 0.3) !important;
        }
        
        .answer-option.incorrect-final, .incorrect-final {
            background: rgba(239, 68, 68, 0.25) !important;
            border-color: rgba(239, 68, 68, 0.8) !important;
        }
        
        .progress-bar {
            background: rgba(30, 30, 50, 0.5);
            border: 1px solid rgba(173, 216, 230, 0.4);
        }
        
        .progress-fill {
            background: linear-gradient(90deg, rgba(173, 216, 230, 0.8) 0%, rgba(173, 216, 230, 0.4) 100%);
            transition: width 0.5s ease;
        }
        
        .quiz-button {
            background: linear-gradient(135deg, rgba(30, 30, 50, 0.8) 0%, rgba(173, 216, 230, 0.2) 100%);
            border: 2px solid rgba(173, 216, 230, 0.5);
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }
        
        .quiz-button:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(173, 216, 230, 0.4);
            border-color: rgba(173, 216, 230, 0.8);
        }
        
        .quiz-button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }
        
        .result-card {
            background: rgba(10, 10, 10, 0.9);
            backdrop-filter: blur(20px);
            border: 2px solid rgba(173, 216, 230, 0.4);
        }
        
        .mystical-symbol {
            font-family: 'MedievalSharp', cursive;
            color: rgba(173, 216, 230, 0.6);
            font-size: 2rem;
        }

        /* Styling for the feedback message shown in the FINAL breakdown */
        .feedback-message {
            margin-top: 1rem;
            padding: 1rem;
            border-radius: 8px;
            background: rgba(255, 255, 255, 0.05); /* Lighter interior for the message box */
            border: 1px solid rgba(173, 216, 230, 0.3);
            color: #b3e5fc; /* Light blue text */
            font-style: italic;
            font-size: 0.9rem;
        }

    </style>
<base target="_blank">
</head>
<body class="min-h-screen p-6">
    <div class="container mx-auto px-6 py-10">
        <div class="text-center mb-12">
            <h1 class="text-5xl font-bold glow-text mb-4" style="font-family: 'Cinzel', serif;">
                How Well You Remember Me?
            </h1>
            <p class="text-xl text-gray-300 max-w-2xl mx-auto">
                Not here to test your IQ, only your memory
            </p>
        </div>
        
        <div id="quiz-container" class="quiz-card rounded-2xl p-8 max-w-4xl mx-auto">
            <div class="progress-bar rounded-full h-4 mb-8">
                <div id="progress-fill" class="progress-fill h-full rounded-full" style="width: 0%"></div>
            </div>
            
            <div class="text-center mb-8">
                <span id="question-counter" class="text-blue-300 font-semibold">Question 1 of 9</span>
            </div>
            
            <div id="question-section" class="mb-8">
                <h2 id="question-text" class="text-2xl font-bold text-white mb-6 text-center">
                    </h2>
                
                <div id="answer-options" class="space-y-4">
                    </div>
                
                </div>
            
            <div class="flex justify-between items-center">
                <button id="prev-button" class="quiz-button px-6 py-3 rounded-xl text-white font-semibold" disabled>
                    ‚Üê Previous
                </button>
                
                <button id="next-button" class="quiz-button px-6 py-3 rounded-xl text-white font-semibold" disabled>
                    Next ‚Üí
                </button>
            </div>
            
            <div class="text-center mt-6">
                <button id="results-button" class="quiz-button px-8 py-4 rounded-xl text-white font-semibold text-lg hidden">
                    See Final Results
                </button>
            </div>
        </div>
        
        <div id="results-section" class="max-w-4xl mx-auto mt-12 hidden">
            <div class="result-card rounded-2xl p-8 text-center">
                <div class="text-6xl mb-6" id="result-emoji">‚ú®</div>
                <h2 class="text-4xl font-bold glow-text mb-6" style="font-family: 'Cinzel', serif;">
                    Your Score
                </h2>
                
                <div class="mb-8">
                    <div class="text-6xl font-bold text-blue-300 mb-2" id="final-score">0/9</div>
                    <div class="text-xl text-gray-300" id="score-percentage">0%</div>
                </div>
                
                <div class="text-lg text-gray-300 leading-relaxed mb-8" id="result-message">
                    </div>

                <div class="mb-8">
                    <div id="score-chart" style="width: 100%; height: 300px;"></div>
                </div>

                <h3 class="text-3xl font-bold glow-text mt-12 mb-6 border-b border-blue-800 pb-2" style="font-family: 'Cinzel', serif;">
                    Detailed Breakdown
                </h3>
                <div id="quiz-breakdown" class="text-left space-y-8">
                    </div>
                
                <div class="space-x-4 mt-12">
                    <button id="restart-button" class="quiz-button px-8 py-3 rounded-xl text-white font-semibold">
                        Try Again
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        // --- Question Data and Feedback ---
        const questions = [
            {
                question: "1. What's my most unserious red flag?",
                options: [
                    "I name my pimples",
                    "I ghost people for fun",
                    "I eat cereal with water",
                    "I talk to myself in the mirror"
                ],
                correct: 3, // d. I talk to myself in the mirror
                feedback: {
                    0: "No... I usually pop them", // a
                    1: "Who the devil would do such a thing?", // b
                    2: "That‚Äôs jail-worthy", // c
                    3: "mirror talks = therapy" // d (Correct)
                }
            },
            {
                question: "2. What am I on Fridays?",
                options: [
                    "Batman",
                    "Zarvan",
                    "Monkey",
                    "Tarzan"
                ],
                correct: 3, // d. Tarzan
                feedback: {
                    0: "No, I'm Batman on the rest of the week", // a
                    1: "The most boring option you could ever choose... ugh", // b
                    2: "Did you just call me a monkey? üòë", // c
                    3: "YES, cause I'm taken out to the wilderness" // d (Correct)
                }
            },
            {
                question: "3. What‚Äôs my actual secret superpower?",
                options: [
                    "I can teleport",
                    "I sense drama from miles away",
                    "I can read people based on looks and vibes",
                    "I always know when food‚Äôs ready"
                ],
                correct: 2, // c. I can read people based on looks and vibes
                feedback: {
                    0: "Yeah, that's why you see me every day", // a
                    1: "true, but not from miles away, so false", // b
                    2: "SPOT ON! I see through souls like sunglasses", // c (Correct)
                    3: "Not a superpower. It's a FACT." // d
                }
            },
            {
                question: "4. What‚Äôs my natural habitat?",
                options: [
                    "In front of a screen",
                    "Beside the Wi-Fi",
                    "In bed with 5 pillows",
                    "All of the above"
                ],
                correct: 3, // d. All of the above
                feedback: {
                    0: "I'm trying to quit... It's like smoking", // a
                    1: "Come on! The internet is much faster there", // b
                    2: "Yes I have 3 big pillows and 2 little... I like hugging pillows >:(", // c
                    3: "RING RING RING WE HAVE A WINNER" // d (Correct)
                }
            },
            {
                question: "5. What emoji describes me best?",
                options: [
                    "üòà", // a
                    "ü•¥", // b
                    "üòÅ", // c
                    "ü¶ã"  // d
                ],
                correct: 2, // c. üòÅ
                feedback: {
                    0: "I said ME, not YOU.", // a
                    1: "You really thought I'm dumb? I'm wounded", // b
                    2: "Yeah yeah. I need to hide my mouth bones more often", // c (Correct)
                    3: "I'm not a flying butter sir." // d
                }
            },
            {
                question: "6. If I had a warning label, what would it say?",
                options: [
                    "Awesomeness may occur randomly",
                    "Do not disturb before a round of gaming",
                    "80% Nerdy",
                    "Handle with memes"
                ],
                correct: 1, // b. Do not disturb before a round of gaming
                feedback: {
                    0: "Actually, weirdness may occur randomly. Nothing awesome is happening", // a
                    1: "I NEEEEED IT", // b (Correct)
                    2: "Good job! You're wrong! I'm 81% nerdy MINIMUM", // c
                    3: "Nah. I'm handled with affection" // d
                }
            },
            {
                question: "7. What‚Äôs one food I‚Äôd fight a child over?",
                options: [
                    "Pizza",
                    "Chocolate cake",
                    "Luna",
                    "Fried chicken"
                ],
                correct: 3, // d. Chicken nuggets
                feedback: {
                    0: "I would spank them over this", // a
                    1: "Nah, oh HEY! you promised me Brownies", // b
                    2: "What the fuck are you thinking?", // c
                    3: "Sure, I would kill a kid or 2 over this" // d (Correct)
                }
            },
            {
                question: "8. What would I never admit, but secretly want?",
                options: [
                    "Someone to game with",
                    "A girl who laughs at his jokes",
                    "A hug while ranting about bad Wi-Fi",
                    "All of the above, but he‚Äôll deny it 100%"
                ],
                correct: 3, // d. All of the above, but he‚Äôll deny it 100%
                feedback: {
                    0: "NO. I HAVE FUN ALONE.", // a
                    1: "Pff... I don't care if you don't laugh üôÑ", // b
                    2: "NO THANK YOU. I can handle it myself.", // c
                    3: "I'LL DENY IT TILL THE DAY I DIE." // d (Correct)
                }
            },
            {
                question: "9. If I disappeared, you‚Äôd probably find me‚Ä¶",
                options: [
                    "Hiding in a blanket burrito",
                    "In a forest talking to squirrels",
                    "At a bookstore pretending I read",
                    "At the gym (LMAO)"
                ],
                correct: 0, // a. Hiding in a blanket burrito
                feedback: {
                    0: "Yeah exactly. Ze bist place", // a (Correct)
                    1: "Actually no, I only speak Frog", // b
                    2: "No, I don't PrETeNd.", // c
                    3: "HAHAHAHAHAHAHAHA" // d
                }
            }
        ];
        
        // --- Quiz State ---
        let currentQuestion = 0;
        let score = 0;
        // Stores objects like { answerIndex: 2, isCorrect: true }
        let selectedAnswers = new Array(questions.length).fill(null).map(() => ({ answerIndex: undefined, isCorrect: undefined }));
        
        // --- DOM Elements ---
        const questionText = document.getElementById('question-text');
        const answerOptionsContainer = document.getElementById('answer-options');
        const questionCounter = document.getElementById('question-counter');
        const progressFill = document.getElementById('progress-fill');
        // Removed: const currentScoreDisplay = document.getElementById('current-score');
        const prevButton = document.getElementById('prev-button');
        const nextButton = document.getElementById('next-button');
        const resultsButton = document.getElementById('results-button');
        const resultsSection = document.getElementById('results-section');
        const finalScoreDisplay = document.getElementById('final-score');
        const scorePercentageDisplay = document.getElementById('score-percentage');
        const resultMessage = document.getElementById('result-message');
        const resultEmoji = document.getElementById('result-emoji');
        
        // --- Core Logic ---

        function loadQuestion() {
            const questionData = questions[currentQuestion];
            const currentAnswerState = selectedAnswers[currentQuestion];

            questionText.textContent = questionData.question;
            questionCounter.textContent = `Question ${currentQuestion + 1} of ${questions.length}`;
            
            // Update progress bar
            const progress = (currentQuestion / questions.length) * 100;
            progressFill.style.width = progress + '%';
            
            // Clear previous options
            answerOptionsContainer.innerHTML = '';
            
            // Create answer options
            questionData.options.forEach((option, index) => {
                const optionDiv = document.createElement('div');
                optionDiv.className = 'answer-option p-4 rounded-xl text-white';
                optionDiv.textContent = option;
                optionDiv.dataset.index = index;
                
                // Add click listener only if not yet answered
                if (currentAnswerState.answerIndex === undefined) {
                    optionDiv.addEventListener('click', () => selectAnswer(index));
                } else {
                    // If answered, apply styles but no correct/incorrect coloring yet
                    optionDiv.classList.add('answered');
                    if (currentAnswerState.answerIndex === index) {
                        optionDiv.classList.add('selected');
                    }
                }
                
                answerOptionsContainer.appendChild(optionDiv);
            });
            
            // If the question has been answered, enable next button
            if (currentAnswerState.answerIndex !== undefined) {
                nextButton.disabled = false;
            } else {
                nextButton.disabled = true; // Must select an answer first
            }
            
            // Update navigation buttons
            prevButton.disabled = currentQuestion === 0;
            
            // Show/hide results button
            if (currentQuestion === questions.length - 1) {
                nextButton.classList.add('hidden');
                if (currentAnswerState.answerIndex !== undefined) {
                    resultsButton.classList.remove('hidden');
                }
            } else {
                nextButton.classList.remove('hidden');
                resultsButton.classList.add('hidden');
            }
        }
        
        // Select answer: records the choice, highlights the selection, enables next. No immediate feedback.
        function selectAnswer(answerIndex) {
            const questionData = questions[currentQuestion];
            
            // 1. Determine correctness and update state
            const isCorrect = answerIndex === questionData.correct;
            selectedAnswers[currentQuestion] = { answerIndex, isCorrect };

            // 2. Recalculate and display score
            calculateScore();
            
            // 3. Update UI to show ONLY the user's selection (no correct/incorrect coloring)
            document.querySelectorAll('.answer-option').forEach(option => {
                const index = parseInt(option.dataset.index);
                
                // Remove existing temporary classes and listeners
                option.classList.remove('selected');
                option.removeEventListener('click', () => selectAnswer(index));
                option.classList.add('answered'); // Mark as answered

                if (index === answerIndex) {
                    // Mark user's selection
                    option.classList.add('selected');
                }
            });
            
            // 4. Enable next button
            nextButton.disabled = false;
            
            // Show results button if on last question
            if (currentQuestion === questions.length - 1) {
                resultsButton.classList.remove('hidden');
            }
            
            // Animate selection
            anime({
                targets: `[data-index="${answerIndex}"]`,
                scale: [1, 1.02, 1],
                duration: 300,
                easing: 'easeInOutQuad'
            });
        }
        
        // Calculate score
        function calculateScore() {
            score = selectedAnswers.filter(a => a.isCorrect === true).length;
            // Removed: currentScoreDisplay.textContent = score;
        }
        
        // --- Results Logic ---

        function generateBreakdown() {
            const breakdownContainer = document.getElementById('quiz-breakdown');
            breakdownContainer.innerHTML = ''; // Clear previous content

            questions.forEach((q, index) => {
                const userState = selectedAnswers[index];
                
                // Safety check: ensure the question was answered
                if (userState.answerIndex === undefined) return; 

                const isCorrect = userState.isCorrect;
                const selectedOptionText = q.options[userState.answerIndex];
                const correctOptionText = q.options[q.correct];
                // Get the specific feedback for the answer the user selected
                const feedbackText = q.feedback[userState.answerIndex];
                
                const statusColor = isCorrect ? 'text-green-400' : 'text-red-400';
                const statusEmoji = isCorrect ? '‚úÖ Correct!' : '‚ùå Incorrect.';
                const finalCardClass = isCorrect ? 'correct-final' : 'incorrect-final';

                const breakdownItem = document.createElement('div');
                breakdownItem.className = `p-6 rounded-xl ${finalCardClass} transition duration-500 shadow-xl`;
                
                // FIX APPLIED HERE: Removed ${index + 1}. to stop repeating the question number.
                breakdownItem.innerHTML = `
                    <p class="text-xl font-bold text-white mb-3">${q.question}</p>
                    <p class="text-lg font-semibold ${statusColor} mb-2">${statusEmoji}</p>
                    
                    <div class="space-y-1 text-base text-gray-200">
                        <p>Your Answer: <span class="text-blue-300 font-medium">${selectedOptionText}</span></p>
                        ${!isCorrect ? `<p>Correct Answer: <span class="text-green-400 font-medium">${correctOptionText}</span></p>` : ''}
                    </div>
                    
                    <div class="feedback-message mt-3">
                        <span class="font-bold text-lg block mb-1">Feedback:</span>
                        ${feedbackText}
                    </div>
                `;
                breakdownContainer.appendChild(breakdownItem);
            });
        }

        function showResults() {
            // Hide quiz container
            document.getElementById('quiz-container').style.display = 'none';
            
            // Show results section
            resultsSection.classList.remove('hidden');
            
            // Update score displays
            finalScoreDisplay.textContent = `${score}/${questions.length}`;
            const percentage = Math.round((score / questions.length) * 100);
            scorePercentageDisplay.textContent = `${percentage}%`;
            
            // Determine result message and emoji
            let message, emoji;
            if (score === questions.length) {
                message = "OK this is getting out of hands... you know me too well... I am scared and concerned";
                emoji = "üíÄüíÄ";
            } else if (score >= questions.length * 0.8) {
                message = "Well done genuis. You tried, that's what counts.";
                emoji = "üôÑ";
            } else if (score >= questions.length * 0.5) {
                message = "You gotta be fucking with me. I'm deeply disappointed and wounded... I guess it could be worse";
                emoji = "üíî";
            } else {
                message = "Oof. You fucked up big times. Don't bother trying again. It's over.";
                emoji = "üôå";
            }
            
            resultEmoji.textContent = emoji;
            resultMessage.textContent = message;
            
            // Create score chart
            createScoreChart();

            // Generate the detailed breakdown (THIS IS THE NEW FEATURE)
            generateBreakdown();
            
            // Animate results
            anime({
                targets: '#results-section .result-card',
                opacity: [0, 1],
                scale: [0.9, 1],
                duration: 1000,
                easing: 'easeOutQuad'
            });
        }
        
        // Create score chart (uses ECharts)
        function createScoreChart() {
            const chartDom = document.getElementById('score-chart');
            // Check if chart is already initialized
            let myChart = echarts.getInstanceByDom(chartDom);
            if (!myChart) {
                myChart = echarts.init(chartDom);
            }
            
            const option = {
                backgroundColor: 'transparent',
                tooltip: {
                    trigger: 'item',
                    backgroundColor: 'rgba(10, 10, 10, 0.9)',
                    borderColor: 'rgba(173, 216, 230, 0.4)',
                    textStyle: { color: '#ffffff' }
                },
                series: [
                    {
                        name: 'Friendship Knowledge',
                        type: 'pie',
                        radius: ['40%', '70%'],
                        center: ['50%', '50%'],
                        data: [
                            {
                                value: score,
                                name: 'Correct Answers',
                                itemStyle: { color: 'rgba(34, 197, 94, 0.8)' } // Green
                            },
                            {
                                value: questions.length - score,
                                name: 'Incorrect Answers',
                                itemStyle: { color: 'rgba(239, 68, 68, 0.6)' } // Red
                            }
                        ],
                        emphasis: {
                            itemStyle: {
                                shadowBlur: 10,
                                shadowOffsetX: 0,
                                shadowColor: 'rgba(173, 216, 230, 0.5)'
                            }
                        },
                        label: {
                            color: '#ffffff',
                            fontSize: 14
                        }
                    }
                ]
            };
            
            myChart.setOption(option);
        }
        
        // Navigation functions
        function nextQuestion() {
            if (selectedAnswers[currentQuestion].answerIndex !== undefined && currentQuestion < questions.length - 1) {
                currentQuestion++;
                loadQuestion();
                
                // Animate transition
                anime({
                    targets: '#question-section',
                    opacity: [0, 1],
                    translateX: [50, 0],
                    duration: 500,
                    easing: 'easeOutQuad'
                });
            }
        }
        
        function prevQuestion() {
            if (currentQuestion > 0) {
                currentQuestion--;
                loadQuestion();
                
                // Animate transition
                anime({
                    targets: '#question-section',
                    opacity: [0, 1],
                    translateX: [-50, 0],
                    duration: 500,
                    easing: 'easeOutQuad'
                });
            }
        }
        
        function restartQuiz() {
            currentQuestion = 0;
            score = 0;
            selectedAnswers = new Array(questions.length).fill(null).map(() => ({ answerIndex: undefined, isCorrect: undefined }));
            
            document.getElementById('quiz-container').style.display = 'block';
            resultsSection.classList.add('hidden');
            
            loadQuestion();
            // Removed: currentScoreDisplay.textContent = '0';
        }
        
        // Event listeners
        nextButton.addEventListener('click', nextQuestion);
        prevButton.addEventListener('click', prevQuestion);
        resultsButton.addEventListener('click', showResults);
        document.getElementById('restart-button').addEventListener('click', restartQuiz);
        
        // Initialize quiz
        document.addEventListener('DOMContentLoaded', function() {
            loadQuestion();
            
            // Animate initial load
            anime({
                targets: '#quiz-container',
                opacity: [0, 1],
                translateY: [50, 0],
                duration: 800,
                easing: 'easeOutQuad'
            });
        });
    </script>
</body>
</html>
